"use strict";(self.webpackChunksocial_network=self.webpackChunksocial_network||[]).push([[987],{9987:function(e,s,r){r.r(s),r.d(s,{default:function(){return G}});var i,t=r(5671),o=r(3144),n=r(136),l=r(5716),a=r(2791),c=r(81),u=r(364),d=r(9271),f=r(2163),h=r(7781),p=r(168),j=r(885),x="ProfileInfo_descriptionBlock__kp-uZ",v="ProfileInfo_mainPhoto__-DvV2",m="ProfileInfo_contact__I5mNZ",P="ProfileInfo_formSummaryError__Fimri",b=r(6289),g="ProfileStatus_div__NLOeU",C=r(184),k=function(e){var s=(0,a.useState)(!1),r=(0,j.Z)(s,2),i=r[0],t=r[1],o=(0,a.useState)(e.profileStatus),n=(0,j.Z)(o,2),l=n[0],c=n[1];return(0,a.useEffect)((function(){c(e.profileStatus)}),[e.profileStatus]),(0,C.jsxs)("div",{children:[i&&(0,C.jsx)("div",{children:(0,C.jsx)("input",{onChange:function(e){c(e.currentTarget.value)},autoFocus:!0,onBlur:function(){t(!1),e.updateUserStatusTC(l)},value:l})}),!i&&(0,C.jsxs)("div",{className:g,children:["status:  ",(0,C.jsx)("span",{onClick:function(){t(!0)},children:e.profileStatus||"------"})]})]})},S=r(3776),_=r(2688),T=r(6139),Z=r(704),y=r(4294),A=(0,Z.Z)({form:"profileEdit"})((function(e){return(0,C.jsxs)("form",{onSubmit:e.handleSubmit,children:[(0,C.jsx)("div",{children:(0,C.jsx)(y.Z,{variant:"contained",children:"save"})}),(0,C.jsx)("div",{children:e.error&&(0,C.jsx)("div",{className:P,children:e.error})}),(0,C.jsxs)("div",{children:[(0,C.jsx)("b",{children:"Full Name: "})," ",(0,C.jsx)(T.Z,{placeholder:"fullName",component:_.II,name:"fullName"})]}),(0,C.jsxs)("div",{children:[(0,C.jsx)("b",{children:"About me:"})," ",(0,C.jsx)(T.Z,{placeholder:"aboutMe",component:_.gx,name:"aboutMe"})]}),(0,C.jsxs)("div",{children:[(0,C.jsx)("b",{children:"Looking for a job: "})," ",(0,C.jsx)(T.Z,{placeholder:"LookingForAJob",component:_.II,name:"LookingForAJob",type:"checkbox"})]}),(0,C.jsx)("div",{children:(0,C.jsxs)("div",{children:[(0,C.jsx)("b",{children:"My professional skills:"}),(0,C.jsx)(T.Z,{placeholder:"lookingForAJobDescription",component:_.gx,name:"lookingForAJobDescription"})]})}),(0,C.jsxs)("div",{children:[(0,C.jsx)("b",{children:"Contacts:"})," ",Object.keys(e.initialValues.contacts).map((function(e){return(0,C.jsx)("div",{className:m,children:(0,C.jsxs)("b",{children:[e,": ",(0,C.jsx)(T.Z,{placeholder:e,component:_.II,name:"contacts."+e})," "]})})}))]})]})})),N=r(1367),I=function(e){var s=(0,a.useState)(!1),r=(0,j.Z)(s,2),i=r[0],t=r[1];return e.userProfile?(0,C.jsx)("div",{children:(0,C.jsxs)("div",{className:x,children:[(0,C.jsx)("img",{src:e.userProfile.photos.large||S,className:v}),(0,C.jsx)("div",{children:e.isOwner&&(0,C.jsx)(N.Z,{type:"file",onChange:function(s){var r;null!==(r=s.target.files)&&void 0!==r&&r.length&&e.savePhoto(s.target.files[0])}})}),i?(0,C.jsx)(A,{initialValues:e.userProfile,onSubmit:function(s){e.saveProfileTC(s),t(!1)}}):(0,C.jsx)(M,{goToEditMode:function(){t(e.isOwner)},isOwner:e.isOwner,userProfile:e.userProfile}),(0,C.jsx)(k,{profileStatus:e.profileStatus,updateUserStatusTC:e.updateUserStatusTC})]})}):(0,C.jsx)(b.s,{})},w=function(e){var s=e.contactTitle,r=e.contactValue;return(0,C.jsxs)("div",{children:[(0,C.jsx)("b",{children:s}),": ",r]})},M=function(e){return(0,C.jsxs)("div",{children:[e.isOwner&&(0,C.jsx)("div",{children:(0,C.jsx)(y.Z,{color:"secondary",variant:"contained",onClick:e.goToEditMode,children:"edit"})}),(0,C.jsxs)("div",{children:[(0,C.jsx)("b",{children:"Full Name: "}),e.userProfile.fullName]}),(0,C.jsxs)("div",{children:[(0,C.jsx)("b",{children:"About me:"})," ",e.userProfile.aboutMe?e.userProfile.aboutMe:"-----"]}),(0,C.jsxs)("div",{children:[(0,C.jsx)("b",{children:"Looking for a job: "})," ",e.userProfile.lookingForAJob?"Yes":"No"]}),(0,C.jsx)("div",{children:e.userProfile.lookingForAJob&&(0,C.jsxs)("div",{children:[(0,C.jsx)("b",{children:"My professional skills:"})," ",e.userProfile.lookingForAJobDescription]})}),(0,C.jsxs)("div",{className:m,children:[(0,C.jsx)("b",{children:"Contacts:"})," ",Object.keys(e.userProfile.contacts).map((function(s){return(0,C.jsx)(w,{contactTitle:s,contactValue:e.userProfile.contacts[s]},s)}))]})]})},U="MyPosts_postBlock__GDSIZ",F="MyPosts_posts__4RLJJ",D="Post_item__7FNRR",O=function(e){return(0,C.jsxs)("div",{className:D,children:[(0,C.jsx)("img",{src:"https://cs4.pikabu.ru/post_img/2016/05/23/11/1464032137128579754.jpg"}),e.message,(0,C.jsx)("div",{children:(0,C.jsxs)("span",{children:["like ",e.likeCount]})}),(0,C.jsx)("div",{})]})},E=r(7392),J=a.memo((function(e){var s=e.profilePage.posts.map((function(s,r){return(0,C.jsxs)("div",{children:[(0,C.jsx)(O,{message:s.message,likeCount:s.likeCount},r),(0,C.jsx)(y.Z,{color:"secondary",variant:"contained",onClick:function(){return e.deletePostAC(s.id)},children:"DELETE"})]})}));return(0,C.jsxs)("div",{className:U,children:[(0,C.jsxs)("div",{children:[(0,C.jsx)("h3",{children:"My Posts"}),(0,C.jsx)(L,{onSubmit:function(s){e.addPost(s.post)}})]}),(0,C.jsx)("div",{className:F,children:s})]})})),L=((0,E.D)(10),(0,Z.Z)({form:"post"})((function(e){return(0,C.jsxs)("form",{onSubmit:e.handleSubmit,children:[(0,C.jsx)("div",{children:(0,C.jsx)(N.Z,{color:"secondary",placeholder:"Enter your text",label:"My post",variant:"standard"})}),(0,C.jsx)("div",{children:(0,C.jsx)(y.Z,{type:"submit",color:"secondary",variant:"contained",children:"Add post"})})]})}))),V=(0,u.$j)((function(e){return{profilePage:e.profilePage}}),{addPost:c.Pi,deletePostAC:c.Uc})(J),R=r(4079),B=function(e){return(0,C.jsxs)($,{children:[(0,C.jsx)("div",{children:(0,C.jsx)(I,{saveProfileTC:e.saveProfileTC,savePhoto:e.savePhoto,isOwner:e.isOwner,userProfile:e.userProfile,profileStatus:e.profileStatus,updateUserStatusTC:e.updateUserStatusTC})}),(0,C.jsx)("div",{style:{paddingRight:200},children:(0,C.jsx)(V,{})})]})},$=R.ZP.div(i||(i=(0,p.Z)(["\n   display: flex;\n  justify-content: space-between;\n"]))),z=function(e){(0,n.Z)(r,e);var s=(0,l.Z)(r);function r(){var e;(0,t.Z)(this,r);for(var i=arguments.length,o=new Array(i),n=0;n<i;n++)o[n]=arguments[n];return(e=s.call.apply(s,[this].concat(o))).refreshProfile=function(){var s=e.props.match.params.userId;if(!s)return s===e.props.authorizedUserId;e.props.getProfileTC(s),e.props.getUserStatusTC(s)},e}return(0,o.Z)(r,[{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,s,r){if(this.props.match.params.userId!=e.match.params.userId)return this.refreshProfile}},{key:"render",value:function(){return(0,C.jsx)(B,{saveProfileTC:this.props.saveProfileTC,savePhoto:this.props.savePhotoTC,isOwner:!this.props.match.params.userId,userProfile:this.props.userProfile,profileStatus:this.props.profileStatus,updateUserStatusTC:this.props.updateUserStatusTC})}}]),r}(a.Component),G=(0,h.qC)((0,u.$j)((function(e){return{userProfile:e.profilePage.userProfile,profileStatus:e.profilePage.profileStatus,authorizedUserId:e.auth.id,isAuth:e.auth.isAuth}}),{getProfileTC:c.GA,getUserStatusTC:c.Qw,updateUserStatusTC:c.wM,savePhotoTC:c.Tw,saveProfileTC:c.Ms}),d.EN,f.D)(z)},2163:function(e,s,r){r.d(s,{D:function(){return u}});var i=r(1413),t=r(5987),o=(r(2791),r(9271)),n=r(364),l=r(184),a=["isAuth"],c=function(e){return{isAuth:e.auth.isAuth}};function u(e){return(0,n.$j)(c)((function(s){var r=s.isAuth,n=(0,t.Z)(s,a);return r?(0,l.jsx)(e,(0,i.Z)({},n)):(0,l.jsx)(o.l_,{to:"/login"})}))}}}]);
//# sourceMappingURL=987.44d54f54.chunk.js.map